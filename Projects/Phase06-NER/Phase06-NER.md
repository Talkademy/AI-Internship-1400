<div dir="rtl" align='right'>

# شناسایی نهاده ها (Named Entity Recognition)

خب تا اینجا برای پردازش زبان طبیعی، دو تا مدل ساختیم: یکی متن رو طبقه بندی می کنه، اون یکی احساس موجود در متن رو شناسایی میکنه.
یک تسک پرکاربرد دیگه اینه که اطلاعات موجود در جمله رو استخراج بشه. در واقع یک مدل داشته باشیم که اگه بهش بگیم:

"من در خیابان فردوسی منتظرت هستم"

خروجی مدل این باشه:
  
`"نهاده": "خیابان", "مقدار": "فردوسی"`
  
توی فازهای قبلی با کتابخانه nltk برای پردازش متن آشنا شدی. این کتابخونه برای زبان انگلیسی و چند زبان دیگه بجز فارسی، تابعی برای استخراج نهاده ها داره:

<div dir="ltr" align='left'>

``` python
import nltk
from nltk.tokenize import word_tokenize
from nltk.tag import pos_tag
ex = 'my name is Ali and I live in Iran'
entities = nltk.ne_chunk(pos_tag(word_tokenize(ex)))
print(entities)
```
```
output:
(S
  my/PRP$
  name/NN
  is/VBZ
  (PERSON Ali/NNP)
  and/CC
  I/PRP
  live/VBP
  in/IN
  (GPE Iran/NNP))
```

<div dir="rtl" align='right'>

 توی خروجی بالا میبینیم که 'ایران' رو به عنوان موقعیت جغرافیایی و  'علی' رو به عنوان اسم در نظر گرفته. ولی اگر جمله فارسی وارد کنیم، متوجه نمیشه:

<div dir="ltr" align='left'>

 ```
 ex = 'من علی هستم و در ایران زندگی می کنم'
 .
 .
 .
 output:
 (S
  من/JJ
  (ORGANIZATION علی/NNP)
  هستم/NNP
  و/NNP
  در/NNP
  ایران/NNP
  زندگی/NNP
  میکنم/NN)
 ```

 <div dir="rtl" align='right'>

علی رو به اشتباه سازمان در نظر گرفته و ایران رو متوجه نشده

### NER برای فارسی
یک روش ساده برای تشخیص نهاده ها، استفاده از lookup table ها هست. 
یعنی یک جدول داشتیم باشیم برای نهاده های مختلف و در اون جدول کلمات مربوطه رو بنویسیم. مثلا اسم همه کشورها رو بنویسیم. بعد هر وقت اون کلمه داخل متن اومد، به عنوان نهاده تشخیصش بدیم
* یک برنامه توسعه بده که با استفاده از lookup table نهاده های اسم کشورها رو شناسایی کنه. لیست کشورها در پوشه ی داده ها اومده
* این روش چه مزایا و چه معایبی داره؟

یک راه دیگه اینه که با استفاده از عبارات منظم یا همون regex، نهاده های موجود در متن رو شناسایی کنیم. مثلا هر وقت کلمه ی کشور اومد، کلمه ی بعدی رو به عنوان نهاده در نظر بگیریم. یا اگه کلمه ی سال اومد، عدد بعد از اون رو به عنوان نهاده ی تاریخ شناسایی کنیم.

* با استفاده از regex در پایتون، یک تابع برای تشخیص نهاده ها توسعه بده.
* آیا میشه از ترکیب lookup table و regex برای شناسایی نهاده ها استفاده کرد؟ اگه جوابت مثبته، کدش رو توسعه بده.
* این روش چه مزایا و معایبی داره؟

### آموزش مدل NER با nltk و Stanford NER
خب تا الان چند تا روش برای شناسایی نهاده ها داخل متن پیاده سازی کردی. ولی متوجه شدی که چه ایرادایی دارن و کجاها به مشکل میخورن. خوشبختانه میتونیم خودمون یک مدل برای شناسایی نهاده ها با استفاده از پروژه Stanford NER  برای استفاده 
   با nltk پیاده سازی کنیم. یعنی ابتدا یک مدل آموزش میدیم که نهایتا یک فایل بهمون میده، بعدش داخل کدهامون میتونیم این فایل رو بوسیله nltk استفاده کنیم و نهاده ها رو شناسایی کنیم. از طریق لینک زیر یاد میگیری چطوری آموزش بدی:  
[آموزش ساخت NER با Stanford NER](https://medium.com/sicara/train-ner-model-with-nltk-stanford-tagger-english-french-german-6d90573a9486)

* برای زبان فارسی هم این مدل رو آموزش بده. داده های آموزشی برای زبان فارسی در پوشه ی داده ها -> NER هست.


* حالا خودت جستجو کن چه روش های دیگه ای برای ساخت NER برای زبان فارسی میتونی انجام بدی.
