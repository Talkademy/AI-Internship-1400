<div dir="rtl" align='right'>

# جستجوی اطلاعات
توی این فاز میخوایم ببینیم چطوری میتونیم داخل متن ها جستجو انجام بدیم. مثل جستجوی گوگل که بهش یه عبارت میدیم و میره توی داکیومنت های خودش جستجو میکنه و مرتبط ترین رو بهمون برمیگردونه.
برای پروژه های این فاز، از مجموعه دادگان اخبار روزنامه همشهری استفاده میکنیم که از طریق لینک زیر میتونی دانلود کنی.
[لینک دانلود مجموعه اخبار  روزنامه همشهری](https://dbrg.ut.ac.ir/hamshahri/)
## روش اول: جستجوی کلمه به کلمه
در این روش، عبارت مورد جستجو رو درون متن هایی که داریم جستجو میکنیم، داخل هر متنی که این عبارت وجود داشت، مشخص میشه که متن مرتبط به عبارت هست. هر چقدر اون عبارت بیشتر تکرار شد، امتیاز بیشتری میگیره. اگر هم عبارت بیش از یک کلمه بود، هر چقدر کلماتِ عبارت بیشتر در متن تکرار شد، امتیاز بیشتری میگیره و مرتبط تر به حساب میاد.

* خب حالا با استفاده از پایتون، فلسک و MongoDB، یک موتور جستجوی ساده بساز. از فایل HAM2-070101.xml در پوشه ی داده ها برای این کار استفاده کن.
* ایرادای این روش رو توی ایشوها بنویس.

## روش دوم: جستجو با استفاده از TF-IDF
در قسمت قبلی یه موتور جستجوی ساده ساختی، ولی دیدی اون روش چه ایرادایی داره. مثلا چقدر کند عمل میکنه. روش دیگه، استفاده از مشابهت یابی بین عبارت جستجو و متون موجود هست. در واقع از TF-IDF استفاده کنیم برای مقایسه عبارت و متون موجود. 

### TF-IDF چیه؟
از دو بخش تشکیل شده:

* TF: Term Frequency:

یعنی نرخ تکرار کلمه ی t در مستند d. مثلا اگه در خبری کلمه 'هواپیما' 5 بار تکرار شده بود و کل خبر 100 کلمه بود:

<div dir="ltr" align='left'>

```
tf(خبر, هواپیما) = 0.05 = 5/100
```

<div dir="rtl" align='right'>
البته برای محاسبه TF از این رابطه استفاده میکنن:

<div dir="ltr" align='left'>

```
TF(d,t) = log(count(d,t) + 1)
```

<div dir="rtl" align='right'>

* IDF: Inverse Document Frequency:
DF یعنی تعداد مستندهایی که کلمه t رو دارند تقسیم بر کل تعداد مستندات. مثلا ما کلا 100 تا خبر داریم و کلمه ی هواپیما در 4 تا از اونها تکرار شده. پس:

<div dir="ltr" align='left'>

```
DF(هواپیما) = 0.04 = 4/100
```
<div dir="rtl" align='right'>
توجه کن که مهم نیست این کلمه داخل هر متن چند بار اومده، تنها تعداد مستنداتی که این کلمه رو دارن مهمه.
فرمول نهایی IDF هم به این صورته:
<div dir="ltr" align='left'>

```
IDF(t,N) = log(N/df(t))
```


<div dir="rtl" align='right'>

خب. برای اینکه از tf-idf برای جستجو استفاده کنن، ابتدا یک ماتریس درست میکنن که هر سلول اون، مقدار TF-IDF هر کلمه برای هر کدوم از متن ها هست. سپس برای عبارتی که میخوایم جستجو کنیم هم یک TF-IDF میسازن که البته یک بردار میشه. بعد از اون از ضرب داخلی برای مقایسه تشابه بردار جستجو و ماتریس TF-IDF مستندات استفاده میکنن. هر چقدر که میزان ضرب داخلی زیاد بود، یعنی تشابه بیشتری بین عبارت جستجو و اون متن هست. 
جزئیات پیاده سازی رو توی لینک زیر میتونی ببینی:
[پیاده سازی موتور جستجو با TF-IDF](https://medium.com/analytics-vidhya/build-your-semantic-document-search-engine-with-tf-idf-and-google-use-c836bf5f27fb)

* این پیاده سازی رو برای مجموعه داده ی فارسی هم انجام بده. از 10 فایل مربوط به اخبار روزنامه همشهری  توی پوشه ی داده ها استفاده کن.
* با استفاده از فلسک و مانگو، یک سرویس جستجوی ساده توسعه بده.
* این دو روش رو با هم مقایسه کن و در قسمت ایشوها بنویس.

## جستجوی معنایی
خب تا اینجا دو روش برای جستجو رو دیدی. روش دیگه ای هم وجود داره که از Embedding ها برای جستجو استفاده میشه.
TODO